# 8장 제어문

- 제어문이랑 조건에 따라 코드 블록을 실행하거나 반복실행할 때 사용하며 코드의 실행 흐름을 인위적으로 제어할 수 있다

## 8.1 블록문

- 중괄호로 0개 이상의 문을 묶은 것으로 블록이라 부른다
- 자바스크립트는 블록문을 하나의 실행 단위로 취급하며 단독으로 사용할 수 있으나 일반적으론 제어문이나 함수를 정의할 때 주로 사용한다
- 블록문은 중괄호를 사용하여 문의 종료를 의미하는 자체 종결성을 갖기 때문에 블록문 끝에는 세미콜론을 붙이지 않는다
  ```js
  {
    var foo = 10;
  }
  ```

## 8.2 조건문

- 조건식의 평가 결과에 따라 블록의 실행을 결정하는 문으로 조건식은 boolean 값으로 평가될 수 있는 표현식이다

## 8.2.1 if...else 문

- 조건식의 평가 결과에 따라 true일 경우 if문의 코드 블록이 실행되고, false일 경우 else문의 코드 블록이 실행된다
- 이때 if문의 조건식이 boolean 값이 아닌 값으로  평가되면 JS 엔진에 의해 암묵적으로 boolean 값으로 강제 변환되어 실행할 코드 블록이 결정된다
- 조건에 따라 실행할 코드 블록을 늘리고 싶다면 `else if`문을 사용하며 조건을 늘릴 수 있다. 이때 `if`문과 `else`문은 2번이상 사용할 수 없지만 `else if`문은 여러번 사용이 가능하다
- 대부분의 if..else문은 삼항 조건 연산자로 변경이 가능하여 값으로 사용할 수 있기 때문에 변수에 할당할 수 있다. 하지만 if..else문은 표현식이 아닌 문이기때문에 값처럼 사용할 수 없고 변수에 할당할 수 없다는 차이를 가진다
  ```js
  if(num > 0) kind = '양수';
  else if(num < 0) kind = '음수';
  else kind = '영';
  ```
  ```js
  num ? (num > 0 ? '양수' : '음수') : '영';
  ```
- 조건에 따라 값을 결정하여 변수에 할당해야하는 경우는 삼항 조건 연산자를 사용하는 것이 가독성에 좋으며 조건에 따라 실행해야할 코드가 여러개라면 if..else문을 사용하는 편이 가독성에 좋다


## 8.2.2 switch 문

- 주어진 표현식을 평가하여 그 값과 일치하는 표현식을 같는 case문으로 실행 흐름을 옮기고 switch문의 표현식과 일치하는 case문이 없다면 실행순서는 default문으로 이동한다
  ```js
  switch (표현식) {
    case 표현식1 :
      switch 문의 표현식과 표현식1이 일치하면 실행될 문;
      break;
    case 표현식2 :
      switch 문의 표현식과 표현식2가 일치하면 실행될 문;
    default:
      switch 문의 표현식과 일치하는 case가 없을 때 실행될 문;
  }
  ```

    ```js
  switch (표현식) {
    case 표현식1:, case 표현식2:
      switch 문의 표현식과 표현식1또는 표현식2가 일치하면 실행될 문;
      break;
    case 표현식3 :
      switch 문의 표현식과 표현식3이 일치하면 실행될 문;
    default:
      switch 문의 표현식과 일치하는 case가 없을 때 실행될 문;
  }
  ```
- 표현식의 평가와 일치하는 case문으로 실행흐름이 이동하며 문을 실행할 때 break가 없다면, switch문을 탈출하지않고 모든 case문을 실행하고 default문까지 실행하게 된다. 이것을 fall through(폴스루)라 한다. 따라서 break를 사용하여 switch문의 case에서 코드 블록을 탈출하는 역할이 필요하다
- switch문은 조건이 너무 많아서 if..else보다 가독성 측면에서 보았을 때 더 낫다면 사용하고, 보통은 if..else문으로 해결이 가능하다면 if..else문을 사용하는 것이 좋다


## 8.3 반복문

- 조건식의 평가결과가 참인 경우 코드 블록을 실행하고 그 후 조건식을 다시 평가하여 여전히 참인 경우 다시 코드 블록을 실행한다

## 8.3.1 for문

- 조건식이 거짓으로 평가될 때까지 코드 블록을 반복 실행하는 문이다

  ```js
  for (변수 선언문 또는 할당문; 조건식; 증감식) {
    조건식이 참인 경우 반복 실행될 문;
  }
  ```

## 8.3.2 while문

- 조건식의 평가가 참이면 평가 결과가 거짓이 될 때까지 계속해서 코드 블록을 반복 실행하는 문이다
- for문은 반복 횟수가 명확할 때 주로 사용하고 while문은 반복횟수가 불명확할 때 주로 사용한다는 차이가 있다

  ```js
  while (true) {...}
  ```

## 8.3.3 do..while문

- 코드 블록을 먼저 실행하고 조건식을 평가하는 문으로 무조건 1번이상 코드블럭을 실행한다
  ```js
  var count = 0;
  do {
    console.log(count);
    count++;
  } while(count < 2);
  ```

## 8.4 break

- 레이블문, 반복문(for, for..in, for..of, while, do...while), switch문의 코드 블록을 탈출할 때 필요한 문으로 이 외에 사용하면 SyntaxError(문법에러)가 발생한다
  ```js
  if(ture) {
    break;
  }
  ```
- 레이블 문
  - 식별자가 붙은 문으로 프로그램의 실행순서를 제어하는데 사용된다
  - switch문의 case문, default문도 레이블 문이다
  - 레이블 문의 경우 탈출시 break문에 해당 레이블 식별자를 지정해줘야한다
  ```js
  //foo라는 레이블 식별자가 붙은 레이블 문
  foo: {
    console.log('foo');
    break foo; //break문에 레이블 식별자를 지정해야 탈출가능하다
  }
  console.log('Done!');
  ```

## 8.5 continue

- continue문은 반복문의 코드 블록 실행을 현 지점에서 중단하고 반복문의 증감식으로 실행흐름을 이동시키는 문이다
- 이때 반복문을 탈출하는 것이 아니라 다음 증감으로 이동한다
- if문 내에서 실행해야할 코드가 한줄이면 continue를 사용하지 않는 게 더 편하고 가독성에 좋기도 하다
  ```js
  var string = 'hello';
  var search = 'l';

  for(var i = 0; i < string.lenght; i ++) {
    if(string[i] !== search) continue; //continue문이 실행되면
    count++; //그 다음 문은 실행되지 않는다
  }
  ```

  ```js
  for(var i = 0; i < string.length; i ++) {
    if(string[i] === search) count++;
  }
  ```

- 하지만 if문 내부 코드가 길어질 경우 조건식을 변경하고 continue문을 사용하면서 depth를 줄일 수 있기때문에 가독성을 더 좋게할 수도 있다

  ```js
  for(var i = 0; i < string.length; i ++) {
    if(string[i] === search) {
      count++;
      ...;
      ...;
    }
  }
  ```

  ```js
  for(var i = 0; i < string.length; i ++) {
    if(string[i] !== search) continue;
    count ++;
    ...;
    ...;
    ...;
  }
  ```